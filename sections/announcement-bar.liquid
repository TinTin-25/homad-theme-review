
{%- if section.settings.enable_country_selector -%}
	<script src="{{ 'localization-form.js' | asset_url }}" defer="defer"></script>
{%- endif -%}
{%- include 'section_style' -%}
{%- capture topbar_style -%}
	--tb-fs: {{ section.settings.font-size }}px; --tb-fs-m: {{ section.settings.font-size-m }}px; --tb-link-cl: {{ section.settings.color_top_link }}; --tb-cl: {{ section.settings.color_top_text }};
{%- endcapture -%}
<div class="announcement-bar vela-section{% if section.settings.full_with and section.settings.max_with %} mx-auto{% endif %}" style="{{ section_style }}{{- topbar_style -}}">
	<div class="container{%- if section.settings.full_with -%}-fluid{%- endif -%}">
		<div class="announcement-bar__inner row g-3 align-items-center justify-content-between">	
			{%- if  section.settings.text_left != blank -%}			
				<div class="announcement-bar__left col d-none d-lg-flex align-items-center">
					{%- if section.settings.text_left != blank -%}
						<div class="announcement-bar__left--text line-clamp-1">
							{{ section.settings.text_left }}
						</div>
					{%- endif -%}
				</div>
			{% endif %}
			{%- if section.blocks.size > 0 -%}
				<div class="announcement-bar__center col">
					<div class="js-carousel slick-carousel row"
                        data-nav="true"
                        data-infinite="true"
                        data-autoplay="true"
                        data-speedslide="300"
                        data-columnone="1" 
                        data-columntwo="1" 
                        data-columnthree="1" 
						data-vertical="true">
						{% for block in section.blocks %}
							<div class="announcement-bar__center-item text-center">
								{{ block.settings.content }}
							</div>
						{% endfor %}
					</div>
				</div>
			{%- endif -%}
			{%- if section.settings.enable_country_selector or section.settings.link_list != blank  -%}	
				<div class="announcement-bar__right position-relative col d-none d-lg-flex justify-content-end align-items-center">
					{%- if section.settings.link_list != blank -%}
						<ul class="announcement-bar__quicklink list-unstyled mb-0 d-flex me-3">
							{% for linklist in linklists[section.settings.link_list].links %}
								<li>
									<a href="{{ linklist.url }}" title="">{{ linklist.title }}</a>
								</li>
							{% endfor %}
						</ul>
					{%- endif -%}
					{%- if section.settings.enable_country_selector -%}
						{%- render 'localization', position: "topbar" -%}
					{%- endif -%}
				</div>	
			{%- endif -%}
		</div>
	</div>
</div>
{% schema %}
{
	"name": "t:sections.announcement-bar.name",
	"settings": [
		{
			"type": "header",
			"content": "t:sections.global.settings.header_section.content"
		},
		{
			"type": "checkbox",
			"id": "full_with",
			"label": "t:sections.global.settings.full_width.label"
		},
		{
			"type": "text",
			"id": "max_with",
			"label": "t:sections.global.settings.max_with.label",
			"info": "t:sections.global.settings.max_with.info"
		},
		{
			"type": "color",
			"id": "color_bg",
			"label": "t:sections.global.settings.bg_color.label",
			"default": "rgba(0,0,0,0)"
		},
		{
			"type": "image_picker",
			"id": "image_bg",
			"label": "t:sections.global.settings.bg_image.label"
		},
		{
			"type": "text",
			"id": "padding_block",
			"label": "t:sections.global.settings.padding.label",
			"placeholder": "0px 0px",
			"info": "t:sections.global.settings.padding.info"
		},
		{
			"type": "text",
			"id": "padding_block_m",
			"label": "t:sections.global.settings.padding_mobile.label",
			"placeholder": "0px 0px",
			"info": "t:sections.global.settings.padding_mobile.info"
		},
		{
			"type": "color",
			"id": "color_top_text",
			"label": "t:sections.global.settings.color.label",
			"default": "#1f2021"
		},
		{
			"type": "color",
			"id": "color_top_link",
			"label": "t:sections.global.settings.color_link.label",
			"default": "#1f2021"
		},
		{
			"type": "range",
			"id": "font-size",
			"min": 8,
			"max": 30,
			"step": 1,
			"unit":"px",
			"label": "t:sections.global.settings.font_size.label",
			"default": 14
		}, 
		{
			"type": "range",
			"id": "font-size-m",
			"min": 8,
			"max": 30,
			"step": 1,
			"unit":"px",
			"label": "t:sections.global.settings.font_size_m.label",
			"default": 14
		}, 
		{
			"type": "header",
			"content": "t:sections.announcement-bar.settings.announcement_left.content"
		},
		{
			"type": "textarea",
			"id": "text_left",
			"label": "Text",
			"info": "Ex: +391 (0)35 2568 4593 | support@gmail.com"
		},
		{
			"type": "header",
			"content": "t:sections.announcement-bar.settings.announcement_right.content"
		},
		{
			"type": "checkbox",
			"id": "enable_country_selector",
			"label": "t:sections.announcement-bar.settings.language_currency.label",
			"default": false
		},
		{
			"type": "link_list",
			"id": "link_list",
			"label": "t:sections.announcement-bar.settings.menu.label",
			"info": "t:sections.announcement-bar.settings.menu.info"
		}
	],
	"blocks": [
		{
			"type": "announcementItem",
			"name": "announcement item center",
			"settings": [
				{
					"type": "html",
					"id": "content",
					"label": "HTML",
					"default": "<div style='text-align:center;'><h2>Use HTML to format your text so it can be easily read.</h2>This text can be used to share information about your brand with customers.</div>"
				}
			]
		}
	]
     
}
{% endschema %}
