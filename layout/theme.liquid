<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
	<head>
      
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<meta name="theme-color" content="">
		<link rel="canonical" href="{{ canonical_url }}">
		{%- if settings.favicon != blank -%}
			<link rel="icon" href="{{ settings.favicon | image_url: width: 32, height: 32 }}" type="image/png">
			<link rel="apple-touch-icon-precomposed" href="{{ settings.favicon | image_url: width: 48, height: 48 }}" type="image/png">
			<link rel="nokia-touch-icon" href="{{ settings.favicon | image_url: width: 48, height: 48 }}" type="image/png">
		{%- endif -%}

		<title>{{- shop.name -}}</title>

		{%- if page_description -%}
			<meta name="description" content="{{ page_description | escape }}">
		{%- endif -%}

		{%- render 'meta-tags' -%}

        {%- render 'header-fonts' -%}
		{%- render 'header-styles' -%}
		{%- render 'header-javascript' -%}
		{{ content_for_header }}
		{%- render 'css-variables' -%}
<style>
  .main-menu__nav-item > a:hover,
  .main-menu__nav-item > a:focus {
    background-color: rgba(255, 255, 255, 0.08) !important;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    color: var(--menu-hover-color) !important;
    border-radius: 6px;
    transition: all 0.2s ease;
  }
</style>

      
		<script>document.documentElement.className = document.documentElement.className.replace('no-js', 'js');</script>
	</head>
	<body id="{{ page_title | handle }}" class="{% if customer %}customer-logged-in {% endif %}template-{{ request.page_type | handle }} {{ template.suffix }} gx-3 gx-md-4">
		{%- if settings.preloading -%}
			{% render 'preloading' %}
		{%- endif -%}
		{%- if settings.header_layout == "header2" -%}
			{% sections 'header-group2' %}
		{%- elsif settings.header_layout == "header3"-%}
			{% sections 'header-group3' %}
		{%- elsif settings.header_layout == "header4"-%}
			{% sections 'header-group4' %}
		{%- else -%}
			{% sections 'header-group1' %}
		{% endif %}
		<main id="MainContent" class="main-content content-for-layout" tabindex="-1">
			<div class="main-content__inner">
				{{ content_for_layout }}
			</div>
		</main>
		{%- if settings.footer_layout == "footer2" -%}
			{% sections 'footer-group2' %}
		{%- elsif settings.footer_layout == "footer3"-%}
			{% sections 'footer-group3' %}
		{%- else -%}
			{% sections 'footer-group1' %}
		{% endif %}
		{% include 'footer-javascript' %}
		{% include 'site-template' %}
		{%- if settings.saleNotifi_enable and settings.collection_notification -%}
			{% render 'sale-notification' %}
		{%- endif -%}
        {% render 'svg' %}
		{%- render 'menu-fixed-mobile' -%}
		<script>
			window.shopUrl = '{{ shop.url }}';
			window.routes = {
                origin: '{{ request.origin }}',
                cart_url: '{{ routes.cart_url }}',
                cart_add_url: '{{ routes.cart_add_url }}',
                cart_clear_url: '{{ routes.cart_clear_url }}',
                cart_change_url: '{{ routes.cart_change_url }}',
                cart_update_url: '{{ routes.cart_update_url }}',
                predictive_search_url: '{{ routes.predictive_search_url }}',
                user_purchased: '{{ settings.user_purchased }}',
                list_time: '{{ settings.time_suggest }}'
            };
        </script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const trigger = document.querySelectorAll('a[href="#open-homad-modal"], button[href="#open-homad-modal"]');
    trigger.forEach(el => {
      el.addEventListener('click', function(e) {
        e.preventDefault();
        const modal = document.getElementById('open-homad-modal');
        if (modal) modal.classList.add('active');
      });
    });
  });
</script>


      
<!-- chat shopify -->
{{ content_for_footer }}
<script>
(function () {
  const applyStyle = () => {
    const chat = document.querySelector("inbox-online-store-chat");
    if (!chat || !chat.shadowRoot) return false;

    const button = chat.shadowRoot.querySelector(".chat-toggle.mobile-only");
    if (button) {
      button.style.position = "fixed";
      button.style.bottom = "65px";
      button.style.right = "8px";
      button.style.zIndex = "9999";
      return true;
    }

    return false;
  };

  const init = () => {
    if (applyStyle()) {
      const chat = document.querySelector("inbox-online-store-chat");
      const observer = new MutationObserver(() => applyStyle());
      observer.observe(chat.shadowRoot, { childList: true, subtree: true });
      window.addEventListener("resize", applyStyle);
    } else {
      requestAnimationFrame(init);
    }
  };

  requestAnimationFrame(init);
})();
</script>



<!-- Editor de precios -->
      
<script>
(function () {
  const rapiBundleSelector = ".rapi-bundles__bar";
  const discountedSelector = ".rapi-bundles__bar-price";
  const fullPriceSelector = ".rapi-bundles__bar-full-price";

  function showPricesRapi(discountedText, fullText) {
    const discountedEl = document.getElementById("dealeasy-override-price");
    const compareEl = document.getElementById("dealeasy-compare-price");

    if (!discountedEl || !compareEl) {
      console.warn("âŒ Elementos de precio no encontrados");
      return;
    }

    // Oculta todos los precios originales
    document.querySelectorAll(
      ".js-product-price, .js-product-compare-price, .product-unit-price"
    ).forEach(el => {
      if (el !== discountedEl && el !== compareEl) el.style.display = "none";
    });

    // Actualiza y muestra los nuevos precios
    discountedEl.textContent = discountedText;
    discountedEl.style.display = "inline-block";

    compareEl.textContent = fullText;
    compareEl.style.display = "inline-block";

    console.log("âœ… Precios de Rapi aplicados:", discountedText, fullText);
  }

  function activarRapiBundles() {
    document.querySelectorAll(rapiBundleSelector).forEach(option => {
      option.addEventListener("click", () => {
        const discount = option.querySelector(discountedSelector)?.textContent.trim();
        const full = option.querySelector(fullPriceSelector)?.textContent.trim();
        if (discount && full) showPricesRapi(discount, full);
      });
    });
  }

  function esperarBundles() {
    const observer = new MutationObserver(() => {
      if (
        document.querySelector(rapiBundleSelector) &&
        document.getElementById("dealeasy-override-price") &&
        document.getElementById("dealeasy-compare-price")
      ) {
        console.log("ðŸŸ¢ Detectados bundles Rapi");
        activarRapiBundles();
        observer.disconnect();
      }
    });

    observer.observe(document.body, { childList: true, subtree: true });
  }

  document.addEventListener("DOMContentLoaded", esperarBundles);
})();
</script>

  {% render 'order-status-tracking' %}

</body>
</html>