{%- if localization.available_countries.size > 1 or localization.available_languages.size > 1 -%}
    {{ 'disclosure.css' | asset_url | stylesheet_tag }}
{%- endif -%}
{%- assign position = position | default: 'Main'-%}
{%- if localization.available_countries.size > 1 -%}
    <localization-form>
        {%- form 'localization', id: 'FooterCountryForm', class: 'localization-form' -%}
            <div class="disclosure d-flex position-relative {{ position }}__list">
                <div class="d-flex align-items-center">
                    
                    <button type="button" class="disclosure__button localization-form__select localization-selector ms-1" aria-expanded="false" aria-controls="FooterCountryList" aria-describedby="FooterCountryLabel">
                      <span class="text-uppercase fw-semibold">
                        {{ localization.country.currency.symbol }} - {{ localization.country.currency.iso_code }}
                      </span>
                      {% render 'icons', icon: 'angle-down', class: 'ms-2 text-secondary' %}
                </button>
                </div>
                <ul id="FooterCountryList" role="list" class="disclosure__list disclosure__list-wrapper list-unstyled mb-0" hidden>
                    {%- assign list_currency = "" -%}
                    {%- for country in localization.available_countries -%}
                        {%- assign currency_item = country.currency.iso_code | append: country.currency.symbol -%}
                        {%- unless list_currency contains currency_item -%}
                            <li class="disclosure__item" tabindex="-1">
                                <a class="disclosure__link {% if country.iso_code == localization.country.iso_code %} disclosure__link--active{% endif %} focus-inset" href="#"{% if country.iso_code == localization.country.iso_code %} aria-current="true"{% endif %} data-value="{{ country.iso_code }}">
                                    <span class="localization-form__currency">{{ country.currency.symbol }} - {{ country.currency.iso_code }}</span>
                                </a>
                            </li>
                            {%- assign list_currency = list_currency | append: " , " | append: currency_item -%}
                        {%- endunless -%}
                    {%- endfor -%}
                </ul>
            </div>
            <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
        {%- endform -%}
    </localization-form>
{%- endif -%}
{%- if localization.available_languages.size > 1 -%}
    <localization-form>
        {%- form 'localization', id: 'FooterLanguageForm', class: 'localization-form' -%}
            <div class="disclosure d-flex position-relative  {{ position }}__list">
                <div class="d-flex align-items-center">
                    
                    <button type="button" class="disclosure__button localization-form__select localization-selector ms-1" aria-expanded="false" aria-controls="FooterLanguageList" aria-describedby="FooterLanguageLabel">
                        <span class="text-uppercase fw-semibold">
                            {{ localization.language.endonym_name | capitalize }}
                        </span>
                        {% render 'icons', icon: 'angle-down', class: 'ms-2 text-secondary' %}
                    </button>
                </div>
                <ul id="FooterLanguageList" role="list" class="disclosure__list disclosure__list-wrapper list-unstyled mb-0" hidden>
                    
                    {%- for language in localization.available_languages -%}
                        <li class="disclosure__item" tabindex="-1">
                            {%- assign langugageIndex = forloop.index -%}
                            <a class="disclosure__link d-flex align-items-center w-100 {% if language.iso_code == localization.language.iso_code %} disclosure__link--active{% endif %} focus-inset" href="#" hreflang="{{ language.iso_code }}" lang="{{ language.iso_code }}"{% if language.iso_code == localization.language.iso_code %} aria-current="true"{% endif %} data-value="{{ language.iso_code }}">
                                {% assign flag = language.iso_code %}
                                {% if language.iso_code == 'en' %}{% assign flag = 'us' %}{% endif %}
                                <span class="flag">
                                    <img src="//cdn.shopify.com/static/images/flags/{{ flag }}.svg?width=20" alt="{{ language.endonym_name | capitalize }}" srcset="//cdn.shopify.com/static/images/flags/{{ flag }}.svg?width=20 20w" width="20" height="15">
                                </span>
                                {{ language.endonym_name | capitalize }}
                            </a>
                        </li>
                    {%- endfor -%}
                </ul>
            </div>
            <input type="hidden" name="locale_code" value="{{ localization.language.iso_code }}">
        {%- endform -%}
    </localization-form>
{%- endif -%}
